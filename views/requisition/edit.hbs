<div class="edit-requisition">
  <hr color="lightgray">
  <div class="requisition-titles">
    <p> Dados de Cobrança</p>
  </div>
  </br>
</div>

<form action="/requisition/{{requisition._id}}" id="reqEdit" method="post">
  <div id="keep-address" class="form-row">
    <div class="requisition-text col-md-11">
      <input id="fullname" type="text" name="requisition[client][fullname]" value="{{requisition.client.fullname}}"
        class="requisition-text" placeholder="Razão Social/Nome Completo">
    </div>
    <div class="requisition-text col-md-6">
      <input id="cpf" type="text" name="requisition[client][register]" value="{{requisition.client.register}}"
        class="requisition-text" placeholder="CNPJ/CPF">
    </div>
    <div class="requisition-text col-md-5">
      <input id="I.E" type="text" name="requisition[IE]" class="requisition-text" placeholder="I.E"
        value="{{requisition.IE}}">
    </div>
    <div class="requisition-text col-md-6">
      <input id="street" type="text" name="requisition[address][street]" value="{{requisition.address.street}}"
        class="requisition-text" placeholder="Endereço de Faturamento">
    </div>
    <div class="requisition-text col-md-5">
      <input id="number" type="text" name="requisition[address][number]" value="{{requisition.address.number}}"
        class="requisition-text" placeholder="Nº">
    </div>
    <div class="requisition-text col-md-6">
      <input id="complement" type="text" name="requisition[address][complement]"
        value="{{requisition.address.complement}}" class="requisition-text" placeholder="Complemento">
    </div>
    <div class="requisition-text col-md-5">
      <input id="neighborhood" type="text" name="requisition[address][neighborhood]"
        value="{{requisition.address.neighborhood}}" class="requisition-text" placeholder="Bairro">
    </div>
    <div class="requisition-text col-md-4">
      <input id="city" type="text" name="requisition[address][city]" value="{{requisition.address.city}}"
        class="requisition-text" placeholder="Cidade">
    </div>
    <div class="requisition-text col-md-4">
      <input id="state" type="text" name="requisition[address][state]" value="{{requisition.address.state}}"
        class="requisition-text" placeholder="Estado">
    </div>
    <div class="requisition-text col-md-3">
      <input id="cep" type="text" name="requisition[address][cep]" value="{{requisition.address.cep}}"
        class="requisition-text" placeholder="CEP">
    </div>
    <div class="requisition-text col-md-11">
      <input id="resposible" type="text" name="requisition[responsible]" class="requisition-text"
        placeholder="Responsável pela amostra" value="{{requisition.responsible}}">
    </div>
    <div class="requisition-text col-md-6">
      <input id="phone" type="text" name="requisition[client][phone]" value="{{requisition.client.phone}}"
        class="requisition-text" placeholder="Tel. com DDD">
    </div>
    <div class=" requisition-text col-md-5">
      <input id="cellphone" type="text" name="requisition[client][cellphone]" value="{{requisition.client.cellphone}}"
        class="requisition-text" placeholder="Cel. com DDD">
    </div>
    <div class="requisition-text col-md-11">
      <input id="email" type="text" name="requisition[client][email]" value="{{requisition.client.email}}"
        class="requisition-text" placeholder="Email">
    </div>
  </div>
  <br>
  <div class="requisition-titles">
    <p> Requisição de Análise</p>
  </div>
  <br>
  <div class="requisition-text col-md-12">
    <input type="text" name="requisition[producer]" class="requisition-text"
      placeholder="Nome do cliente | Fazenda | Produtor" value="{{requisition.producer}}">
  </div>
  <div class="form-row">
    <div class="requisition-text col-md-4">
      <input type="text" name="requisition[city]" class="requisition-text" placeholder="Município"
        value="{{requisition.city}}">
    </div>
    <div class="requisition-text col-md-4">
      <input type="text" name="requisition[state]" class="requisition-text" placeholder="Estado"
        value="{{requisition.state}}">
    </div>
    <div class="requisition-text col-md-4">
      <input type="text" name="requisition[datecollection]" class="requisition-text" placeholder="Data de Coleta"
        value="{{requisition.datecollection}}">
    </div>
  </div>

  <div class="form-row">
    <div class="requisition-text col-md-4">
      <input type="text" name="requisition[packingtype]" class="requisition-text" placeholder="Tipo de Embalagem"
        value="{{requisition.packingtype}}">
    </div>
    <div class="requisition-text col-md-4">
      <input type="text" name="requisition[receivedquantity]" class="requisition-text"
        value="{{requisition.receivedquantity}}" placeholder="Quantidade Recebida">
    </div>
    <div class="requisition-text col-md-4">
      <input type="text" name="requisition[datereceipt]" class="requisition-text" placeholder="Data de Recebimento"
        value="{{requisition.datereceipt}}">
    </div>
  </div>
  {{!-- <div class="form-row">
      <div class="requisition-text col-md-4">
        <input type="text" name="requisition[origin]" class="requisition-text" placeholder="Origem"
          value="{{requisition.origin}}">
      </div>

      <div class="requisition-text col-md-4">
        <input type="text" name="requisition[lab]" class="requisition-text" placeholder="Laboratório"
          value="{{requisition.lab}}">
      </div> --}}

  </div>
  {{!-- <div class="showboxinfo"> --}}
  {{!-- <form action="/{{requisitions.id}}" method="put"> --}}
  {{!-- <p>
        <font size="2" color="black"> Origem: <input id="stock-edit" name="origin" type="text" style="width: 200px"
            value={{requisitions.origin}}>
      </p>
      <p>
        <font size="2" color="black"> Fazenda: <input id="stock-edit" name="farmname" type="text" style="width: 200px"
            value={{requisitions.farmname}}>
      </p>
      <p>
        <font size="2" color="black"> Laboratório: <input id="stock-edit" name="lab" type="text" style="width: 200px"
            value={{requisitions.lab}}>
      </p> --}}
  {{!-- <p>
        <font size="2" color="black"> Tipo de embalagem: <input id="stock-edit" name="packingtype" type="text" style="width: 200px"
            value={{requisitions.packingtype}}>
      </p>
      <p>
        <font size="2" color="black"> Qtde. recebida: <input id="stock-edit" name="receivedquantity" type="text" style="width: 200px"
            value={{requisitions.receivedquantity}}>
      </p>
      <p>
        <font size="2" color="black"> Data de recebimento: <input id="stock-edit" name="datecollection" type="text" style="width: 200px"
            value={{requisitions.datecollection}}>
      </p> --}}
  <br>
  <h6 align="center"> Qual é a destinação do alimento?</h6>
  <br>

  <div class="form-group d-flex flex-wrap text-left justify-content-center">
    <div class="column">
      <div class="form-check">
        <input id="Aves" class="form-check-input destination" type="radio" name="requisition[destination]" value="Aves">
        <label for="Aves" class="radio-text form-check-label mr-3"> Aves </label>
      </div>

      <div class="form-check">
        <input checked id="Gado de Leite" class="form-check-input destination" type="radio"
          name="requisition[destination]" value="Bovinos">
        <label for="Gado de Leiteleite" class="radio-text form-check-label mr-3"> Gado de Leite </label>
      </div>
    </div>

    <div class="column">
      <div class="form-check">
        <input id="Gado de Corte" class="form-check-input destination" type="radio" name="requisition[destination]"
          value="Bovinos">
        <label for="Gado de Corte" class="radio-text form-check-label mr-3"> Gado de Corte </label>
      </div>

      <div class="form-check">
        <input id="Suínos" class="form-check-input destination" type="radio" name="requisition[destination]"
          value="Suínos">
        <label for="Suínos" class="radio-text form-check-label mr-3"> Suínos </label>
      </div>
    </div>

    <div class="column">
      <div class="form-check">
        <input id="Equinos" class="form-check-input destination" type="radio" name="requisition[destination]"
          value="Equinos">
        <label for="Equinos" class="radio-text form-check-label mr-3"> Equinos </label>
      </div>

      <div class="form-check">
        <input id="Caprinos" class="form-check-input destination" type="radio" name="requisition[destination]"
          value="Caprinos">
        <label for="Caprinos" class="radio-text form-check-label mr-3"> Caprinos </label>
      </div>
    </div>

    <div class="column">
      <div class="form-check">
        <input id="Ovinos" class="form-check-input destination" type="radio" name="requisition[destination]"
          value="Ovinos">
        <label for="Ovinos" class="radio-text form-check-label mr-3"> Ovinos </label>
      </div>
      <div class="form-check">
        <input id="Peixes" class="form-check-input destination" type="radio" name="requisition[destination]"
          value="Peixes">
        <label for="Peixes" class="radio-text form-check-label mr-3"> Peixes </label>
      </div>
    </div>
    <div class="column">
      <div class="form-check">
        <input id="Pet" class="form-check-input destination" type="radio" name="requisition[destination]" value="Pet">
        <label for="Pet" class="radio-text form-check-label mr-3"> Pet </label>
      </div>

      <div class="form-check">
        <input id="Matéria-Prima(Fábrica de Ração)" class="form-check-input destination" type="radio"
          name="requisition[destination]" value="Matéria-Prima">
        <label for="Matéria-Prima(Fábrica de Ração)" class="radio-text form-check-label mr-3"> Matéria-Prima(Fábrica de
          Ração) </label>
      </div>
    </div>
    <div class="row ml-0">
      <div class="form-check">
        <input id="Outros" class="form-check-input destination" type="radio" name="requisition[destination]" value="">
        <label for="Outros" class="radio-text form-check-label mr-3"> Outros </label>
      </div>
      <div id="Other-destination" class="form-disabled form-row h-50">
        <input type="text" id="OtherInput" class="input w-100" placeholder="Destinação">
      </div>
    </div>

  </div>

  {{#if nova}}
      <input type="checkbox" style="display: none;" id="novaCheckId" name="novaCheck" value="isChecked"></input>
  {{/if}}

</form>
<div class="text-center">
  {{#unless nova}}
    <button id="submitAlterations" align="center" class="btn btn-outline-success">Salvar alerações</button>
  {{/unless}}
 
  {{#if nova}}
    <button id="submitAlterations" align="center" class="btn btn-outline-danger mr-5">Salvar alerações sem aprovar
      requisição</button>

    <button id="submitAproved" align="center" class="btn btn-outline-success">Aprovar requisição</button>
  {{/if}}
</div>

<script>
  //SetCheckbox selected
  $(document).ready(function () {
    if ($('#{{requisition.destination}}').length)
      $('#{{requisition.destination}}').prop("checked", true);
    else {
      $('#Outros').prop("checked", true);
      $('#Outros').val("{{requisition.destination}}");
      $('#OtherInput').val("{{requisition.destination}}");
      $('#Other-destination').removeClass('form-disabled');
    }
  });

  $("#submitAlterations").click(function () {
    $("#reqEdit").submit(); // Submit the form
  });

  $("#submitAproved").click(function () {
    $('#novaCheckId').prop("checked", true);
    $("#reqEdit").submit(); // Submit the form
  });

  $('.destination').change(function () {
    console.log("aaa");
    if ($('#Outros').is(':checked')) {
      $('#Other-destination').removeClass('form-disabled');
    } else {
      $('#Other-destination').addClass('form-disabled');
    }
  });

  $("#Other-destination").keyup(function () {
    $('#Outros').val($(this).find('input').val());
  });
</script>